YUI.add("gallery-bitly",function(a){var b=function(c){b.superclass.constructor.call(this,c);};b.NAME="bitly";b.ATTRS={username:{value:""},key:{value:""}};a.extend(b,a.Base,{api:"http:/"+"/api.bit.ly/",initializer:function(){if(!this.get("key")||!this.get("username")){a.error("You must give a username and an API key. If you do not have an apiKey, sign up for a bitly account and go to your Account page to get your apiKey. (http:/"+"/bit.ly/)");}},destructor:function(){},_buildURL:function(c,d){return this.api+c+"?version=2.0.1&login="+this.get("username")+"&apiKey="+this.get("key")+"&"+d;},_handleAPI:function(e,d,c){var f=a.guid().replace(/-/g,"_");YUI[f]=a.bind(function(g){if(g.results){if(e=="stats"){this.fire(e,g.results);if(c){c=a.bind(c,this);c(g.results);}}else{a.each(g.results,function(h){this.fire(e,h);if(c){c=a.bind(c,this);c(h);}},this);}}delete YUI[f];},this);a.Get.script(d+"&callback=YUI."+f);},shorten:function(d,c){var e=this._buildURL("shorten","longUrl="+encodeURIComponent(d));this._handleAPI("shorten",e,c);},expand:function(f,c){var e=((f.url)?"shortUrl="+encodeURIComponent(f.url):"hash="+f.hash),d=this._buildURL("expand",e);this._handleAPI("expand",d,c);},expandByURL:function(d,c){return this.expand({url:d},c);},expandByHash:function(d,c){return this.expand({hash:d},c);},info:function(f,c){var e=((f.url)?"shortUrl="+encodeURIComponent(f.url):"hash="+f.hash),d=this._buildURL("info",e);this._handleAPI("info",d,c);},infoByURL:function(d,c){return this.info({url:d},c);},infoByHash:function(d,c){return this.info({hash:d},c);},stats:function(f,c){var e=((f.url)?"shortUrl="+encodeURIComponent(f.url):"hash="+f.hash),d=this._buildURL("stats",e);this._handleAPI("stats",d,c);},statsByURL:function(d,c){return this.stats({url:d},c);},statsByHash:function(d,c){return this.stats({hash:d},c);}});a.bitly=b;},"@VERSION@",{requires:["base","get"]});